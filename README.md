# Логічна задача «Вбивство містера Бодді»

Цей репозиторій містить розв’язання класичної **логічної детективної задачі** (за мотивами гри *Cluedo*) мовами **Prolog, Haskell та Python**.

Метою проєкту є показати, як **одну й ту саму логічну задачу** можна формалізувати та розв’язати, використовуючи **різні парадигми програмування**:
- логічне програмування (Prolog),
- функціональне програмування (Haskell),
- імперативне програмування з перебором станів (Python).


## Опис задачі

Щоб з’ясувати, **хто вбив містера Бодді**, необхідно визначити:
- у якій кімнаті перебував кожен підозрюваний;
- яка зброя була знайдена в кожній кімнаті.

### Підозрювані
Є **шість підозрюваних**:
- **Чоловіки**: George, John, Robert
- **Жінки**: Barbara, Christine, Yolanda

### Кімнати
Кожна особа перебувала в **унікальній кімнаті**:
- Bathroom
- Dining Room
- Kitchen
- Living Room
- Pantry
- Study

### Зброя
У кожній кімнаті було знайдено **рівно один предмет**:
- Bag
- Firearm
- Gas
- Knife
- Poison
- Rope

Жодні дві особи не можуть перебувати в одній кімнаті або мати одну й ту саму зброю.


## Підказки

Розв’язання повинно задовольняти всі наступні умови:

1. **Чоловік у кухні** не мав **мотузки, ножа, сумки та вогнепальної зброї**.
2. **Barbara** була або в **кабінеті (Study)**, або у **ванній (Bathroom)**; **Yolanda** — в іншій з цих кімнат.
3. Особа із **сумкою (Bag)**, яка не є Barbara або George, не перебувала у ванній чи їдальні.
4. **Жінка з мотузкою (Rope)** перебувала в **кабінеті (Study)**.
5. У **вітальні (Living Room)** перебував або **John**, або **George**.
6. **Ніж (Knife)** не був у **їдальні (Dining Room)**.
7. **Yolanda** не мала зброї, яка знаходилась у **кабінеті** або **коморі (Pantry)**.
8. **Вогнепальна зброя (Firearm)** знаходилась у тій самій кімнаті, що й **George**.
9. Було встановлено, що містера Бодді **вбили газом у коморі**.

Особа, яка перебувала в **коморі з газом**, є **вбивцею**.


## Реалізації

### Prolog
- Використано **логічні правила та обмеження**
- Застосовано автоматичний перебір рішень з бек-трекінгом
- Кожна підказка реалізована як логічна умова

**Ключова ідея:** описати задачу декларативно й дозволити Prolog знайти розв’язання.


### Haskell
- Реалізація в стилі **чистого функціонального програмування**
- Генерація всіх можливих комбінацій кімнат і зброї
- Фільтрація допустимих варіантів через логічні умови
- Статична типізація підвищує надійність розв’язку

**Ключова ідея:** згенерувати всі варіанти та відфільтрувати коректні.


### Python
- Використано **повний перебір** з бібліотекою `itertools`
- Кожна підказка перевіряється окремою умовою
- Простий і наочний імперативний підхід

**Ключова ідея:** перебір з раннім відсіюванням некоректних станів.


## Результат

Усі три реалізації приводять до **одного й того ж розв’язку**:

> **Вбивця: Christine**  
> **Знаряддя вбивства: Gas**  
> **Місце: Pantry**

## Логічна задача «Зебра» (Zebra puzzle / Einstein’s riddle)

Ця класична **логічна головоломка** полягає в тому, щоб визначити, **хто володіє зеброю** та хто п’є воду. У задачі є **п’ять будинків**, кожен з яких:

* має унікальний **колір**,
* в ньому живе людина певної **національності**,
* мешканець тримає **певну тварину**,
* п’є певний **напій**,
* курить певну **марку сигарет**.

### Основні умови:

1. Англієць живе у червоному будинку.
2. Швед тримає собаку.
3. Данець п’є чай.
4. Зелений будинок знаходиться ліворуч від білого.
5. У зеленому будинку п’ють каву.
6. Людина, яка курить Pall Mall, тримає птаха.
7. У жовтому будинку курять Dunhill.
8. У середньому будинку п’ють молоко.
9. Норвежець живе в першому будинку.
10. Людина, яка курить Blend, живе поруч із котом.
11. Людина, яка курить Dunhill, живе поруч із конем.
12. Той, хто курить Blue Master, п’є пиво.
13. Німець курить Prince.
14. Норвежець живе поруч із синім будинком.
15. Людина, яка п’є воду, живе поруч із тим, хто курить Blend.

**Мета:** визначити, хто володіє зеброю.


## Відмінності між задачами Cluedo та Зебра

| Параметр                  | Cluedo (Вбивство містера Бодді)                                      | Zebra (Зебра / Einstein)                                                                            |
| ------------------------- | -------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| **Предмети пошуку**       | Вбивця, кімната, зброя                                               | Власник зебри, хто п’є воду, розташування будинків                                                  |
| **Структура даних**       | `person(Name, Room, Weapon)`                                         | `h(Color, Nation, Pet, Drink, Smoke)`                                                               |
| **Тип логічних обмежень** | Унікальність кімнат і зброї, умови про конкретні комбінації          | Відносні позиції (ліворуч, поруч) та відповідності                                                  |
| **Підхід у коді**         | **Повний перебір** перестановок кімнат та зброї + фільтрація         | **Constraint-style / вибір елементів** із `select/3` та відносними позиціями (`next_to`, `left_of`) |
| **Механізм Prolog**       | Перебір всіх перестановок і перевірка логічних умов через `member/2` | Вибір елементів зі списку з обмеженнями, Prolog сам будує список будинків, що задовольняє всі умови |
| **Особливість**           | Легко описати умови про конкретні кімнати та зброю                   | Легко описати сусідство та порядок будинків, більш ефективно для задач з позиційними обмеженнями    |

**Висновок:**

* **Cluedo-підхід** – класичний «перебір + перевірка»; підходить для невеликих задач із абсолютними комбінаціями.
* **Zebra-підхід** – «constraint-style»; зручно для задач із відносними позиціями та сусідством, скорочує надмірний перебір.


## Навчальне призначення

Проєкт демонструє:
- розв’язання задач із **логічними обмеженнями**;
- відмінності між парадигмами програмування;
- практичне застосування Prolog, Haskell і Python;
- визначення інших підходів для інших подібних задач
- формалізацію текстових умов у код.


## Джерела

Список джерел які використовувались в ході виконання завдання:
- Відеоматеріал з задачею: https://www.youtube.com/watch?v=Oi5TIHVkWaI&t=614s
- Сайт з задачею про детекива: https://xmonader.github.io/prolog/2018/12/21/solving-murder-prolog.html
- Сайт з задачею про зебру: https://rosettacode.org/wiki/Zebra_puzzle#